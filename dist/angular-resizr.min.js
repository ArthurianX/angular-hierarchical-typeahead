angular.module("artResizr",[]),angular.module("artResizr").directive("artResizr",["$parse","$document","$http","$timeout","$compile",function(a,b,c,d,e){return{restrict:"A",scope:{resizrType:"@",resizrCallback:"&",resizrCollapsed:"=",resizrAppearHover:"=",resizrRatio:"@",resizrPosition:"@",resizrBorder:"@",resizrParentClass:"=",resizrParentLevel:"="},link:function(a,b,c){var d="<button class='art-resizr-button' ng-click='artResizrToggle()'><i ng-if='!artResizrCollapsed' class='fa fa-compress' aria-hidden='true'></i><i ng-if='artResizrCollapsed' class='fa fa-expand' aria-hidden='true'></i></button>",f=function(){b.append(d),e(b)(a),"true"===m.resizrBorder?angular.element(b).children(".art-resizr-button").css({"background-color":m.resizrBorder}):"false"===m.resizrBorder?angular.noop():m.resizrBorder?angular.element(b).children(".art-resizr-button").css({"background-color":m.resizrBorder}):angular.noop()},g=function(a,c){c?("zoom"===a.resizrType&&b.addClass(k.zoom),b.addClass(k.collapsed)):("zoom"===a.resizrType&&b.removeClass(k.zoom),b.removeClass(k.collapsed))},h=function(a){switch(a.resizrPosition){case"left":b.addClass(k.left);break;case"right":b.addClass(k.right);break;case"bottom-left":b.addClass(k.bottomL);break;case"bottom-right":b.addClass(k.bottomR);break;case"top-left":b.addClass(k.topL);break;case"top-right":b.addClass(k.topR);break;case!1:b.addClass(k.bottomR)}},i=[];i[0]=b.width(),i[1]=b.height();var j=function(a,c,d){var e=[];a.split("/").forEach(function(a){e.push(parseInt(a))}),"zoom"===c?d?b.css({zoom:JSON.stringify(e[0]/100)}):b.css({zoom:1}):"css"===c&&(d?b.css({width:b.width()*(e[0]/100)+"px",height:b.height()*(e[1]/100)+"px"}):b.css({width:i[0]+"px",height:i[1]+"px"}))},k={container:"art-resizr-container",hover:"art-resizr-hover",zoom:"art-resizr-zoom",border:"art-resizr-border",collapsed:"art-resizr-collapsed",left:"art-resizr-left",right:"art-resizr-right",bottomL:"art-resizr-bottom-left",bottomR:"art-resizr-bottom-right",topL:"art-resizr-top-left",topR:"art-resizr-top-right"},l={resizrType:"css",resizrCallback:!1,resizrCollapsed:!1,resizrAppearHover:!1,resizrRatio:"50/50",resizrPosition:"bottom-left",resizrBorder:!1,resizrParentClass:!1,resizrParentLevel:!1};c=angular.extend(angular.copy(l),c),"true"===c.resizrCollapsed?a.artResizrCollapsed=!0:"false"===c.resizrCollapsed?a.artResizrCollapsed=!1:c.resizrCollapsed?a.artResizrCollapsed=!0:a.artResizrCollapsed=!1;var m=c;a.artResizrToggle=function(){a.artResizrCollapsed=!a.artResizrCollapsed,g(m,a.artResizrCollapsed),j(m.resizrRatio,m.resizrType,a.artResizrCollapsed),m.resizrCallback&&a.resizrCallback()(a.artResizrCollapsed)};var n=function(){b.addClass(k.container),"true"===m.resizrAppearHover?b.addClass(k.hover):"false"===m.resizrAppearHover?angular.noop():m.resizrAppearHover&&b.addClass(k.hover),"true"===m.resizrBorder?(b.addClass(k.border),b.css({"border-color":m.resizrBorder})):"false"===m.resizrBorder?angular.noop():m.resizrBorder?(b.addClass(k.border),b.css({"border-color":m.resizrBorder})):angular.noop(),h(m),f(),a.artResizrCollapsed&&(g(m,a.artResizrCollapsed),j(m.resizrRatio,m.resizrType,a.artResizrCollapsed),m.resizrCallback&&a.resizrCallback()(a.artResizrCollapsed))};angular.element(b).hasClass(k.container)||n()}}}]);
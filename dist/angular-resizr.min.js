angular.module("artResizr",[]),angular.module("artResizr").directive("artResizr",["$parse","$document","$http","$timeout","$compile",function(a,b,c,d,e){return{restrict:"A",scope:{resizrType:"@",resizrCallback:"&",resizrCollapsed:"=",resizrAppearHover:"=",resizrRatio:"@",resizrPosition:"@",resizrBorder:"@",resizrParentClass:"=",resizrParentLevel:"=",resizrAdjacent:"@"},link:function(a,b,c){var d="<button class='art-resizr-button' ng-click='artResizrToggle()'><i ng-if='!artResizrCollapsed' class='fa fa-compress' aria-hidden='true'></i><i ng-if='artResizrCollapsed' class='fa fa-expand' aria-hidden='true'></i></button>",f=function(){b.append(d),e(b)(a),"true"===n.resizrBorder?angular.element(b).children(".art-resizr-button").css({"background-color":n.resizrBorder}):"false"===n.resizrBorder?angular.noop():n.resizrBorder?angular.element(b).children(".art-resizr-button").css({"background-color":n.resizrBorder}):angular.noop()},g=function(a,c){c?("zoom"===a.resizrType&&b.addClass(l.zoom),b.addClass(l.collapsed)):("zoom"===a.resizrType&&b.removeClass(l.zoom),b.removeClass(l.collapsed))},h=function(a){switch(a.resizrPosition){case"left":b.addClass(l.left);break;case"right":b.addClass(l.right);break;case"bottom-left":b.addClass(l.bottomL);break;case"bottom-right":b.addClass(l.bottomR);break;case"top-left":b.addClass(l.topL);break;case"top-right":b.addClass(l.topR);break;case!1:b.addClass(l.bottomR)}},i=[];i[0]=b.width(),i[1]=b.height();var j=function(a,c,d,e){for(var f=parseInt(a),g=b,h=0;f>=h;h++)g=b.parent();d&&(g=g.parent().children()),console.log("Actionable element is",g),c?e?g.addClass(c):g.removeClass(c):e?g.css({width:g.parent().width()/g.length+"px",display:"inline-block"}):(g.css({width:"",display:""}),g.removeAttr("width"),g.removeAttr("display"))},k=function(a,c,d){var e=[];a.split("/").forEach(function(a){e.push(parseInt(a))}),"zoom"===c?d?b.css({zoom:JSON.stringify(e[0]/100)}):b.css({zoom:1}):"css"===c&&(d?b.css({width:b.width()*(e[0]/100)+"px",height:b.height()*(e[1]/100)+"px"}):b.css({width:i[0]+"px",height:i[1]+"px"}))},l={container:"art-resizr-container",hover:"art-resizr-hover",zoom:"art-resizr-zoom",border:"art-resizr-border",collapsed:"art-resizr-collapsed",left:"art-resizr-left",right:"art-resizr-right",bottomL:"art-resizr-bottom-left",bottomR:"art-resizr-bottom-right",topL:"art-resizr-top-left",topR:"art-resizr-top-right"},m={resizrType:"css",resizrCallback:!1,resizrCollapsed:!1,resizrAppearHover:!1,resizrRatio:"50/50",resizrPosition:"bottom-left",resizrBorder:!1,resizrParentClass:!1,resizrParentLevel:!1,resizrAdjacent:!1};c=angular.extend(angular.copy(m),c),"true"===c.resizrCollapsed?a.artResizrCollapsed=!0:"false"===c.resizrCollapsed?a.artResizrCollapsed=!1:c.resizrCollapsed?a.artResizrCollapsed=!0:a.artResizrCollapsed=!1;var n=c;a.artResizrToggle=function(){a.artResizrCollapsed=!a.artResizrCollapsed,g(n,a.artResizrCollapsed),n.resizrParentLevel?j(n.resizrParentLevel,n.resizrParentClass,n.resizrAdjacent,a.artResizrCollapsed):k(n.resizrRatio,n.resizrType,a.artResizrCollapsed),n.resizrCallback&&a.resizrCallback()(a.artResizrCollapsed)};var o=function(){b.addClass(l.container),"true"===n.resizrAppearHover?b.addClass(l.hover):"false"===n.resizrAppearHover?angular.noop():n.resizrAppearHover&&b.addClass(l.hover),"true"===n.resizrBorder?(b.addClass(l.border),b.css({"border-color":n.resizrBorder})):"false"===n.resizrBorder?angular.noop():n.resizrBorder?(b.addClass(l.border),b.css({"border-color":n.resizrBorder})):angular.noop(),h(n),f(),a.artResizrCollapsed&&(g(n,a.artResizrCollapsed),k(n.resizrRatio,n.resizrType,a.artResizrCollapsed),n.resizrCallback&&a.resizrCallback()(a.artResizrCollapsed))};angular.element(b).hasClass(l.container)||o()}}}]);
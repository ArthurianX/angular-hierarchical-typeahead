angular.module("artResizr",[]),angular.module("artResizr").directive("artResizr",["$parse","$document","$http","$timeout","$compile",function(a,b,c,d,e){return{restrict:"A",scope:{resizrType:"@",resizrCallback:"&",resizrCollapsed:"=",resizrAppearHover:"=",resizrRatio:"@",resizrPosition:"@",resizrBorder:"@",resizrParentClass:"=",resizrParentLevel:"=",resizrAdjacent:"@",resizrTimeout:"@"},link:function(a,b,c){var f="<button class='art-typeahead-button' ng-class='{collapsed: artResizrCollapsed}' ng-click='artResizrToggle()'><i ng-if='!artResizrCollapsed' class='fa fa-compress' aria-hidden='true'></i><i ng-if='artResizrCollapsed' class='fa fa-expand' aria-hidden='true'></i></button>",g=function(){b.append(f),e(b)(a),"true"===o.resizrBorder?angular.element(b).children(".art-typeahead-button").css({"background-color":o.resizrBorder}):"false"===o.resizrBorder?angular.noop():o.resizrBorder?angular.element(b).children(".art-typeahead-button").css({"background-color":o.resizrBorder}):angular.noop()},h=function(a,c){c?("zoom"===a.resizrType&&b.addClass(m.zoom),b.addClass(m.collapsed)):("zoom"===a.resizrType&&b.removeClass(m.zoom),b.removeClass(m.collapsed))},i=function(a){switch(a.resizrPosition){case"left":b.addClass(m.left);break;case"right":b.addClass(m.right);break;case"bottom-left":b.addClass(m.bottomL);break;case"bottom-right":b.addClass(m.bottomR);break;case"top-left":b.addClass(m.topL);break;case"top-right":b.addClass(m.topR);break;case!1:b.addClass(m.bottomR)}},j=[];j[0]=b.width(),j[1]=b.height(),a.resizrTimeout&&d(function(){console.log("Fire ",a.resizrRecalcEvent),j[0]=b.width(),j[1]=b.height()},parseInt(a.resizrTimeout));var k=function(a,c,d,e){for(var f=parseInt(a),g=b,h=0;f>=h;h++)g=b.parent();d&&(g=g.parent().children()),c?e?g.addClass(c):g.removeClass(c):e?g.css({width:g.parent().width()/g.length+"px",display:"inline-block"}):(g.css({width:"",display:""}),g.removeAttr("width"),g.removeAttr("display"))},l=function(a,c,d){var e=[];a.split("/").forEach(function(a){e.push(parseInt(a))}),"zoom"===c?d?b.css({zoom:JSON.stringify(e[0]/100)}):b.css({zoom:1}):"css"===c&&(d?b.css({width:b.width()*(e[0]/100)+"px",height:b.height()*(e[1]/100)+"px"}):b.css({width:j[0]+"px",height:j[1]+"px"}))},m={container:"art-typeahead-container",hover:"art-typeahead-hover",zoom:"art-typeahead-zoom",border:"art-typeahead-border",collapsed:"art-typeahead-collapsed",left:"art-typeahead-left",right:"art-typeahead-right",bottomL:"art-typeahead-bottom-left",bottomR:"art-typeahead-bottom-right",topL:"art-typeahead-top-left",topR:"art-typeahead-top-right"},n={resizrType:"css",resizrCallback:!1,resizrCollapsed:!1,resizrAppearHover:!1,resizrRatio:"50/50",resizrPosition:"bottom-left",resizrBorder:!1,resizrParentClass:!1,resizrParentLevel:!1,resizrAdjacent:!1};c=angular.extend(angular.copy(n),c),"true"===c.resizrCollapsed?a.artResizrCollapsed=!0:"false"===c.resizrCollapsed?a.artResizrCollapsed=!1:c.resizrCollapsed?a.artResizrCollapsed=!0:a.artResizrCollapsed=!1;var o=c;a.artResizrToggle=function(){a.artResizrCollapsed=!a.artResizrCollapsed,h(o,a.artResizrCollapsed),o.resizrParentLevel?k(o.resizrParentLevel,o.resizrParentClass,o.resizrAdjacent,a.artResizrCollapsed):l(o.resizrRatio,o.resizrType,a.artResizrCollapsed),o.resizrCallback&&(console.log("function"==typeof a.resizrCallback()),a.resizrCallback()(a.artResizrCollapsed))};var p=function(){b.addClass(m.container),"true"===o.resizrAppearHover?b.addClass(m.hover):"false"===o.resizrAppearHover?angular.noop():o.resizrAppearHover&&b.addClass(m.hover),"true"===o.resizrBorder?(b.addClass(m.border),b.css({"border-color":o.resizrBorder})):"false"===o.resizrBorder?angular.noop():o.resizrBorder?(b.addClass(m.border),b.css({"border-color":o.resizrBorder})):angular.noop(),i(o),g(),a.artResizrCollapsed&&(h(o,a.artResizrCollapsed),o.resizrParentLevel?k(o.resizrParentLevel,o.resizrParentClass,o.resizrAdjacent,a.artResizrCollapsed):l(o.resizrRatio,o.resizrType,a.artResizrCollapsed),o.resizrCallback&&a.resizrCallback()(a.artResizrCollapsed))};angular.element(b).hasClass(m.container)||p()}}}]);
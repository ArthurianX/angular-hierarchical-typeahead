<div class="art-typeahead-container">
    <div class="art-search">
        <div class="levels"
             ng-repeat="level in levelsActive track by $index"
             ng-if="level.isVisible"
             ng-class="{active: level.isActive}"
             ng-click="actionLevel(level, $index)"
             style="background-color: {{level.bColor}}; border-color: {{level.bColor}}"
        >
            <i style="color: {{level.color}}" class="{{level.icon}}" aria-hidden="true"></i> {{level.activeName || level.name}}
        </div>
        <span class="text-clone"></span>
        <input ng-style="hideInput(lastLevel)" type="text" ng-model="query" ng-model-options="{ debounce: 500 }" class="levels search-bar" placeholder="Search for {{currentPlaceholder}}" autofocus>
    </div>
    <div class="art-loader" ng-if="loading">
        <svg class="art-circular" viewBox="25 25 50 50">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/>
        </svg>
    </div>
    <div class="art-results" ng-class="{'art-loading': loading}">
        <ul kb-list ng-if="results">
            <li ng-repeat="item in results track by $index" kb-item kb-invoke="selectItem(item, $index, $event)" data-has-index="{{$index}}" ng-keydown="focusOnSearch($event)">
                {{item.name}}
            </li>
            <li ng-if="pagination" class="load-more" ng-click="getOutsideData(false, true)">
                <i class="fa fa-plus" aria-hidden="true"></i> Load More
            </li>
        </ul>
        <ul>
            <li ng-if="!results && !loading && !tooMany">
                <i class="fa fa-ban" aria-hidden="true"></i> No results.
            </li>

            <li ng-if="!results && !loading && tooMany">
                <i class="fa fa-ban" aria-hidden="true"></i> Too many results, please use the search function.
            </li>
        </ul>
    </div>
    <div class="art-elements-added" ng-if="pagination && addedElements"> <!--&& addedElements-->
        <i class="fa fa-plus" aria-hidden="true"></i>{{elementsAdded}}
    </div>

    <div style="text-align: right; clear: both" class="art-tooltip-helper" ng-click="showTooltip = !showTooltip">
        <i class="fa fa-question-circle" aria-hidden="true"></i>
        <small ng-if="results && showTooltip" class="art-tooltip">

            <table class="table table-bordered" style="width: 50%; float: right">
                <thead>
                <tr>
                    <th>Action</th>
                    <th>Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td><i class="fa fa-arrow-down" aria-hidden="true"></i> & <i class="fa fa-arrow-up" aria-hidden="true"></i></td>
                    <td valign="middle">Move up and down on the list with keyboard arrows</td>
                </tr>
                <tr>
                    <td><i class="fa fa-mouse-pointer" aria-hidden="true"></i> CLICK</td>
                    <td rowspan="2" valign="middle">Load the {{currentPlaceholder}} into view</td>
                </tr>
                <tr>
                    <td><i class="fa fa-keyboard-o" aria-hidden="true"></i> SPACE</td>
                </tr>
                <tr>
                    <td><i class="fa fa-mouse-pointer" aria-hidden="true"></i> + <i class="fa fa-mouse-pointer" aria-hidden="true"></i> DOUBLE-CLICK</td>
                    <td rowspan="2" valign="middle">Open the {{currentPlaceholder}} in a new Level</td>
                </tr>
                <tr>
                    <td><i class="fa fa-keyboard-o" aria-hidden="true"></i> ENTER</td>
                </tr>
                <tr>
                    <td><i class="fa fa-keyboard-o" aria-hidden="true"></i> BACKSPACE</td>
                    <td valign="middle">Go back one level</td>
                </tr>
                <tr>
                    <td><i class="fa fa-mouse-pointer" aria-hidden="true"></i> CLICK on a Level</td>
                    <td valign="middle">Go back to the clicked Level</td>
                </tr>
                <tr>
                    <td><i class="fa fa-keyboard-o" aria-hidden="true"></i> ANY KEY</td>
                    <td valign="middle">While on the {{currentPlaceholder}} list any key you press will focus the search input and make a new search.</td>
                </tr>
                </tbody>
            </table>
        </small>
    </div>



</div>